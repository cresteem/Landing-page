const body=document.body;let menuBar;const menu=document.getElementById("menu"),header=document.querySelector("header"),logo=document.querySelector("#logo"),listBtn=menu.querySelector("#list-btn"),listofServ=menu.querySelector("#services-menu");let menuitems=document.querySelectorAll("#menu a"),servitem=document.querySelectorAll("#services-menu > a");const parser=new DOMParser,close=parser.parseFromString('<svg id="menu-bar" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#fff" class="close-menu"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.4 4.6a.5.5 0 1 0-.8.8L7.3 8l-2.7 2.6a.5.5 0 0 0 .8.8L8 8.7l2.6 2.7a.5.5 0 0 0 .8-.8L8.7 8l2.7-2.6a.5.5 0 0 0-.8-.8L8 7.3 5.4 4.6z"/></svg>',"image/svg+xml"),menusvg=document.getElementById("menu-bar"),closesvg=close.documentElement;let clickTimeout,menuclickevent,servList=!1,menuFlag=!0;function setListenMenu(){menuBar=document.getElementById("menu-bar"),menuBar.addEventListener("click",(()=>{clearTimeout(clickTimeout),clickTimeout=setTimeout((()=>{menuFlag=!menuFlag,requestAnimationFrame((()=>{menuUpdate()}))}),100)}))}function menuUpdate(){console.log("menuUpdate called"),menuBar=document.getElementById("menu-bar"),menuFlag?(header.style.backgroundColor="#000",logo.style.fill="#fff",body.style.overflow="hidden",menu.classList.add("menu-active"),menuclickevent=header.replaceChild(closesvg,menuBar),setListenMenu(),menuNavevent()):(header.style.backgroundColor="#fff",logo.style.fill="#000",body.style.overflowY="scroll",menu.classList.remove("menu-active"),header.replaceChild(menusvg,menuBar),setListenMenu())}function showList(){servList?(listBtn.style.setProperty("transform","rotate(180deg)"),listofServ.classList.add("servlist-active")):(listBtn.style.setProperty("transform","rotate(0deg)"),listofServ.classList.remove("servlist-active")),servList=!servList}setListenMenu(),listBtn.addEventListener("click",(()=>{showList()}));let prevScrollPos=window.scrollY;function headerHandler(){const e=window.scrollY;header.style.transform=prevScrollPos>e?"translateY(0)":"translateY(-100%)",prevScrollPos=e}function menuNavevent(){menuitems.forEach((e=>{e.addEventListener("click",(()=>{menuFlag=!menuFlag,menuUpdate(),menuFlag=!menuFlag,console.log("triggered")}),{once:!0})}))}window.addEventListener("scroll",headerHandler),servitem.forEach((e=>{e.addEventListener("click",showList)}));